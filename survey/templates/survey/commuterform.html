{% extends "base.html" %}
{% load i18n %}
{% load staticfiles %}

{% block title %}Check-in your commute to work!{% endblock %}

{% block javascript %}

<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script> 

<script src="/static/libs/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="/static/libs/jquery.json-2.4.min.js" type="text/javascript"></script>
<script src="/static/libs/jstorage.min.js" type="text/javascript"></script>
<script src="/static/libs/moment.min.js" type="text/javascript"></script>

<script src="{% static 'js/form.js' %}" type="text/javascript"></script>

<script type="text/javascript">
function getLastFriday(someDate) {
    var curMonth = someDate.month();
    someDate.date(1);
    while (someDate.month() == curMonth) {
        someDate.day(12);
    }
    someDate.day(-2);
    return someDate;
}
$(document).ready(function() {

    
    var work = new google.maps.LatLng(42.37, -71.08);
    var home = new google.maps.LatLng(42.36, -71.10);

    // load data from client
    var cachedForm = $.jStorage.get("surveyform"); 
    if (cachedForm) {
        $.each(cachedForm, function(key, obj) {
            if (jQuery.inArray(obj.name, ["csrfmiddlewaretoken", "month"]) < 0) {
                var $formElement = $("input[name=" + obj.name + "]");

                if ($formElement.attr("type") === "checkbox") {
                    $formElement.prop("checked", true);
                } else if (jQuery.inArray($formElement.attr("type"), ["text", "hidden"]) > -1) {
                    $formElement.val(obj.value);
                } else {
                    // we only have selects
                    $formElement = $("select[name=" + obj.name + "]")
                    $formElement.val(obj.value);
                }
            }
        });

        // update map markers
        var homeGeom = $("#id_home_location").val();
        var workGeom = $("#id_work_location").val();
        if (homeGeom !== "POINT (0.0000000000000000 0.0000000000000000)") {
            homeCoords = homeGeom.replace("POINT (", "").replace(")", "").split(" ");
            home = new google.maps.LatLng(homeCoords[1], homeCoords[0]);
        }
        if (workGeom !== "POINT (0.0000000000000000 0.0000000000000000)") {
            workCoords = workGeom.replace("POINT (", "").replace(")", "").split(" ");
            work = new google.maps.LatLng(workCoords[1], workCoords[0]);
        }
    }

    // dropdown for current +2 months selectable W/R Days
	/*
	 *THIS NEXT VARIABLE DETERMINES THE DAY OF THE WEEK FOR THE DEADLINE
	 *IT MUST BE AN INTEGER FROM 1 TO 7 CORRESPONDING TO THE DAYS OF THE WEEK FROM MONDAY TO SUNDAY
	 *THIS IS THE NUMBER TO CHANGE
     *		                |
     *					   \ /   */
	var deadlineDayOfWeek = 1;
	/*
	 * DO NOT CHANGE THE NEXT PART
	 */
    
    var prevDeadline = getLastFriday(moment().subtract('months', 1)).day(deadlineDayOfWeek + 7); //gets the monday after the walk ride day of last month
    var curDeadline = getLastFriday(moment()).day(deadlineDayOfWeek + 7);
    var nextDeadline = getLastFriday(moment().add('months', 1)).day(deadlineDayOfWeek + 7);
    if (moment().unix() <= prevDeadline.unix()) { //if today is before the deadline for last month's walk-ride
        startPos = -1;    
    }
    else if (moment().unix() <= curDeadline.unix()) { //if today is before the deadline for this month's walk-ride
        startPos = 0;
    }
    else if (moment().unix() <= nextDeadline.unix()) {
        startPos = 1;
    }
    for (var i=startPos; i<(startPos + 3); i++) {
        var month = moment().add('months', i);
        var friday = getLastFriday(month).format('MMMM DD, YYYY');
        $("#id_month").append("<option value='" + month.format('MMMM YYYY') + "'>" + friday + "</option>");
    }

    // init alert message
    $("#submit-error").hide();
    $(".alert .close").on('click', function (e) {
        e.preventDefault(); 
        $(this).parent().hide("slow");
    });

    // form validation
    $("#surveyform").on("submit", function () {

        // clear error messages
        $("#submit-error").hide();
        
        // check for valid email
        var emailReg = /^([a-zA-Z0-9_\.\-\+\'])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        if (emailReg.test($("#id_email").val()) === false) {
            $("#submit-error .alert-heading").html("Error #1: Invalid Email Address");
            $("#submit-error p").html("Please provide a valid email address.");
            $("#submit-error").show("slow"); 
            return false;
        }

        // check locations for default locations
        if ($("#id_home_location").val() === "POINT (0.0000000000000000 0.0000000000000000)") {
            $("#submit-error .alert-heading").html("Error #2: No home or start location");
            $("#submit-error p").html("Please provide your home or start location.");
            $("#submit-error").show("slow"); 
            return false;
        }
        if ($("#id_work_location").val() === "POINT (0.0000000000000000 0.0000000000000000)") {
            $("#submit-error .alert-heading").html("Error #2: No work or end location");
            $("#submit-error p").html("Please provide your work or end location.");
            $("#submit-error").show("slow");
            return false;
        }

        // no mode selected
        if ($("#id_to_work_today option:selected").val() === "" || $("#id_from_work_today option:selected").val() === "") {
            $("#submit-error .alert-heading").html("Error #3: No mode selected");
            $("#submit-error p").html("Please tell us how you commuted to and from work today.");
            $("#submit-error").show("slow");
            return false;
        }

        // store form data on client
        $.jStorage.set("surveyform", $(this).serializeArray());
   });
});

</script>


{% endblock %}


    


{% block body %}

<section>

    <h1>Walk/Ride Day Check-In Form</h1>
    <p class="lead">Check in on the last Friday of every month. The Corporate Challenge takes place April through October.</p>

      <form id="surveyform" role="form" class="form-horizontal" action="." method="POST">

        {% csrf_token %}

        <hr>
        <p>The information you share with us may be shared with your employer, if you are an employee of a company participating in the Walk/Ride Day Corporate Challenge, unless you check the box below. Please note that we will not share your identifying information with any organization other than your employer if your workplace is participating in the Challenge. 
         <label class="checkbox">
         <input type="checkbox"> Do not share my personal information with my employer</label></p>
    <hr>
               
         <div class="form-group">
             
             <div class="col-sm-12">
             
             <select id="id_month" name="month" class="form-control"><option value="" selected="">Please verify your check-in date</option><option value="April 2014">April 25, 2014</option><option value="May 2014">May 30, 2014</option><option value="June 2014">June 27, 2014</option><option value="July 2014">July 25, 2014</option><option value="August 2014">August 29, 2014</option><option value="September 2014">September 26, 2014</option><option value="October 2014">October 31, 2014</option></select>
             <span class="help-block">Walk/Ride Day is the last Friday of every month. If that Friday is impossible for you, you may substitute another day in the same week. Please note that most retail partners’ incentives will only be given out on the last Friday.</span>
             </div>
         </div>
            
    <!-- 1 tell us about yourself -->

      <hr>
      <fieldset id="personalinfo">
        <legend>About you</legend>
        
        <div class="form-group">
          <label class="control-label col-sm-3" for="id_name">Your name</label>
          <div class="col-sm-9">
            <input id="id_name"  class="form-control" maxlength="50" name="name" type="text" >
          </div>
        </div>
        <div class="form-group">
          <label class="control-label col-sm-3" for="id_email">Your email:</label>
          <div class="col-sm-9">
            <input id="id_email"  class="form-control" maxlength="75" name="email" type="email">
            <span class="help-block">Please use your work email if your employer is part of the Walk/Ride Day Challenge</span>
          </div>
        </div>
        <div class="form-group">
          <label class="control-label col-sm-3">Your employer's name:</label>
          <div class="col-sm-9">
            <select class="form-control" id="id_employer" name="employer">
              <option value="FindEmployer"> Find employer</option>
              <option value="Other employer (not registered in Challenge)">Other employer (not registered in Challenge)</option>
              <option value="Self">Self</option>
              {% for employer in employers %}<option value="{{ employer.name|escape }}">{{ employer.name|escape }}</option>{% endfor %}
            </select>
            <span class="help-block required_field"> Required if your employer is part of the Walk/Ride Day Challenge.</span>
          </div>
        </div>
      </fieldset>

    <!-- location -->

      <hr>
      <fieldset id="locations">
        <legend>Your locations</legend>

        <div class="form-group">
          <label class="control-label col-sm-3" for="home_address">Starting location</label>
          <div class="col-sm-7">
            <input type="text" class="form-control address" id="home_address" name="home_address" placeholder="1 Main St, Boston, MA 02111">
            <span class="help-block"> Where does your commute to work begin?</span>
          </div>
          <div class="col-sm-2">
            <a class="btn btn-primary locate-address">Locate</a>
          </div>
        </div>
        
        <div class="form-group">
          <label class="control-label col-sm-3" for="work_address">Work location</label>
          <div class="col-sm-7">
            <input type="text" class="form-control address" id="work_address" name="work_address" placeholder="100 Main St, Boston, MA 02111">
            <span class="help-block"> What is the address where you work/worked today? If you telecommuted today, please enter the work address where you most often work when you don't telecommute.</span>
          </div>
          <div class="col-sm-2">
            <a class="btn btn-primary locate-address">Locate</a>
          </div>
        </div>
       
        <label class="control-label col-sm-3">Your Commute <div id="commute-distance"></div></label>
        <div id="map-canvas" class="col-sm-9"></div>
                
        {{ surveyform.home_location }}
        {{ surveyform.work_location }}
        {{ surveyform.distance }}
        {{ surveyform.duration }}  

      </fieldset>
        
    <!--      walk/ride    -->

      <hr>

      <fieldset id="walkride">
        
        <legend>Walk/Ride Day</legend>

        <!-- begin picking modes of transport -->
        <div id="w-to-work-legs">
            <h4>Commuting TO work</h4>
          <div class=" form-group leg">
            <div class="col-sm-3">
              <label>How did you commute TO work on Walk/Ride Day?</label>
            </div>
            <div class="col-sm-6">
              <select name="mode" class="form-control" >
              <option value="" selected="selected">Please select mode of transportation</option>
              <option value="da">Driving alone</option>
              <option value="dalt">Driving alone, alternative vehicle (taxi, hybrid, car share, etc.)</option>
              <option value="cp">Carpool</option>
              <option value="t">Transit (subway, city bus, coach bus, train, ferry, shuttle, etc.)</option>
              <option value="b">Bike</option>
              <option value="r">Jog/Run</option>
              <option value="w">Walk</option>               
              <option value="o">Other (roller blade, scooter, kayak, etc.)</option>
              <option value="tc">Telecommute</option>
              </select>
            </div>
            <div class="col-sm-3">
              <select name="time" class="form-control" >
                <option value="" selected="selected">Please estimate time</option>
                <option value="1">Less than 15 minutes</option>
                <option value="2">15-30 minutes</option>
                <option value="3">30-45 minutes</option>
                <option value="4">45-60 minutes</option>
                <option value="5">More than an hour</option>
              </select>
            </div>
            <input type="hidden" value="w" name="day">
            <input type="hidden" value="tw" name="direction">
          </div>

        </div>

        <div class="form-group">
          <div class="col-sm-2 col-sm-offset-3">
          <button class="btn btn-primary morelegs" data-target='w-to-work-legs'><span class="button">Add another leg</span></button>
          </div>
        </div>
        
        <!-- end picking modes of transport -->
        <hr>

        <h4>Returning FROM work</h4>
        
        <div class="form-group">
          <div class="col-sm-3">Did you commute the same way away from work on Walk/Ride Day?</div>
          <div class="col-sm-6">
            <label class="checkbox">
              <input type="radio" name="w-from-work-legs" class="morelegs yes" checked> Yes
            </label>
            <label class="checkbox">
              <input type="radio" name="w-from-work-legs" class="morelegs"> No
            </label>
          </div>
        </div>
        
        <div class="hidden-legs">
          <div id="w-from-work-legs">
          
            <div class="form-group leg">
              <div class="col-sm-3">
                <label>How did you commute AWAY FROM work on Walk/Ride Day?</label>
              </div>
              <div class="col-sm-6">
                <select name="mode" class="form-control" >
                <option value="" selected="selected">Please select mode of transportation</option>
                <option value="da">Driving alone</option>
                <option value="dalt">Driving alone, alternative vehicle (taxi, hybrid, car share, etc.)</option>
                <option value="cp">Carpool</option>
                <option value="t">Transit (subway, city bus, coach bus, train, ferry, shuttle, etc.)</option>
                <option value="b">Bike</option>
                <option value="r">Jog/Run</option>
                <option value="w">Walk</option>               
                <option value="o">Other (roller blade, scooter, kayak, etc.)</option>
                <option value="tc">Telecommute</option>
                </select>
              </div>

              <div class="col-sm-3">
                <select name="time" class="form-control" >
                  <option value="" selected="selected">Please estimate time</option>
                  <option value="1">Less than 15 minutes</option>
                  <option value="2">15-30 minutes</option>
                  <option value="3">30-45 minutes</option>
                  <option value="4">45-60 minutes</option>
                  <option value="5">More than an hour</option>
                </select>
              </div>
              <input type="hidden" value="w" name="day">
              <input type="hidden" value="fw" name="direction">
            </div> 

          </div>

          <div class="form-group">
            <div class="col-sm-2 col-sm-offset-3">
            <button class="btn btn-primary morelegs" data-target='w-from-work-legs'><span class="button">Add another leg</span></button>
            </div>
          </div>

        </div>

      </fieldset>
        
        
        
    <!--   normal       -->
       <hr>

       <fieldset id="normal">
        
        <legend>Your normal commute</legend>

        <h4>Going TO work</h4>
        
        <div class="form-group">
            <div class="col-sm-3">Do you normally commute TO work the same way you did on Walk/Ride Day?</div>
            <div class="col-sm-6">
            <label class="checkbox">
                <input type="radio" name="n-to-work-legs" class="morelegs yes" checked> Yes
            </label>
            <label class="checkbox">
                <input type="radio" name="n-to-work-legs" class="morelegs"> No
            </label></div>
        </div>


        <div class="hidden-legs">

            <div id="n-to-work-legs">
            
                <div class=" form-group leg">
                    <div class="col-sm-3">
                      <label>How do you normally commute to work?</label>
                    </div>
                    <div class="col-sm-6">
                      <select name="mode" class="form-control" >
                      <option value="" selected="selected">Please select mode of transportation</option>
                      <option value="da">Driving alone</option>
                      <option value="dalt">Driving alone, alternative vehicle (taxi, hybrid, car share, etc.)</option>
                      <option value="cp">Carpool</option>
                      <option value="t">Transit (subway, city bus, coach bus, train, ferry, shuttle, etc.)</option>
                      <option value="b">Bike</option>
                      <option value="r">Jog/Run</option>
                      <option value="w">Walk</option>               
                      <option value="o">Other (roller blade, scooter, kayak, etc.)</option>
                      <option value="tc">Telecommute</option>
                      </select>
                    </div>
                    <div class="col-sm-3">
                      <select name="time" class="form-control" >
                        <option value="" selected="selected">Please estimate time</option>
                        <option value="1">Less than 15 minutes</option>
                        <option value="2">15-30 minutes</option>
                        <option value="3">30-45 minutes</option>
                        <option value="4">45-60 minutes</option>
                        <option value="5">More than an hour</option>
                      </select>
                    </div>
                    <input type="hidden" value="n" name="day">
                    <input type="hidden" value="tw" name="direction">
                </div> 
            </div>

            
            <div class="form-group">
              <div class="col-sm-2 col-sm-offset-3">
              <button class="btn btn-primary morelegs" data-target='n-to-work-legs'><span class="button">Add another leg</span></button>
              </div>
            </div>

        </div>
        
        <hr> 
        <h4>Commuting FROM work</h4>
        
        <div class="form-group">
            <div class="col-sm-3">Do you normally commute FROM work the same way you normally commute TO work?</div>
            <div class="col-sm-6">
            <label class="checkbox">
            <input type="radio" name="n-from-work-legs" class="morelegs yes" checked> Yes
            </label>
            <label class="checkbox">
            <input type="radio" name="n-from-work-legs" class="morelegs"> No
            </label></div>
        </div>


        <div class="hidden-legs">
        <div id="n-from-work-legs">
            
                <div class=" form-group leg">
                    <div class="col-sm-3">
                      <label>How do you commute AWAY FROM work normally?</label>
                    </div>
                    <div class="col-sm-6">
                      <select name="mode" class="form-control" >
                      <option value="" selected="selected">Please select mode of transportation</option>
                      <option value="da">Driving alone</option>
                      <option value="dalt">Driving alone, alternative vehicle (taxi, hybrid, car share, etc.)</option>
                      <option value="cp">Carpool</option>
                      <option value="t">Transit (subway, city bus, coach bus, train, ferry, shuttle, etc.)</option>
                      <option value="b">Bike</option>
                      <option value="r">Jog/Run</option>
                      <option value="w">Walk</option>               
                      <option value="o">Other (roller blade, scooter, kayak, etc.)</option>
                      <option value="tc">Telecommute</option>
                      </select>
                    </div>
                    <div class="col-sm-3">
                      <select name="time" class="form-control" >
                        <option value="" selected="selected">Please estimate time</option>
                        <option value="1">Less than 15 minutes</option>
                        <option value="2">15-30 minutes</option>
                        <option value="3">30-45 minutes</option>
                        <option value="4">45-60 minutes</option>
                        <option value="5">More than an hour</option>
                      </select>
                    </div>
                    <input type="hidden" value="n" name="day">
                    <input type="hidden" value="fw" name="direction">
                </div> 
            </div>

            
            <div class="form-group">
              <div class="col-sm-2 col-sm-offset-3">
              <button class="btn btn-primary morelegs" data-target='n-from-work-legs'><span class="button">Add another leg</span></button>
              </div>
            </div>

        </div>
         
        </fieldset>
    <hr>
       
    <!--       green impacts -->

        
    <fieldset class="calculator">
            <legend class="greenimpact">Optional: See the impact you had today</legend>
           
            <p class="lead">These calculators are conceptual only, and refer only to the longest leg of your commute. Please ignore them if they don't reflect your situation or provide appropriate information.</p>
            <hr>

        
            <div class="form-group">

            <div class="col-sm-4">
            <button id="btn-co2" class="btn btn-warning" disabled="disabled">Calculate saved CO2 emissions</button><span class="help-block">Per EPA standards and assumptions, compared to commuting by car alone.</span></div>
            
            <div class="col-sm-8">
            <span class="input uneditable-input form-control" id="saved-co2">Click button to calculate</span></div>

            </div>

       <hr>
        
            <div class="form-group">
            
            <div class="col-sm-3"><button id="btn-cal" class="btn btn-warning" disabled="disabled">Calculate Calories</button><span class="help-block">Per <a target="_blank" href="http://en.wikipedia.org/wiki/Metabolic_equivalent">Metabolic equivalent</a>, compared to commuting by car or transit.</span></div>
            <div class="col-sm-3">
           
            <input id="weight" name="weight" class="form-control" step="0.1" type="number" value="150">  <label class="control-label">Adjust weight [lbs]</label>
            
            </div>
        
            <div class="col-sm-6">
            
            <span class="input uneditable-input form-control" id="burned-cal">Click button to calculate</span>
            <label class="control-label">Your burned calories</label>
             </div>
            
            </div>

        </fieldset>
            
            <hr>



            <!-- comments etc -->
            <h3>Comments or feedback:</h3>
            <textarea class="form-control" rows="3"></textarea>


            <hr>

            <!-- begin extra questions -->
            <fieldset id="optional">
        
            <legend>Additional questions</legend>

            <h4></h4>
            <div class="form-group">
              <div class="col-sm-3">
                <label>In general, how would you describe your health?</label>
              </div>
              <div class="col-sm-9">
              <div class="radio">
                <label>
                  <input type="radio" name="health" id="healthexcellent" value="healthexcellent"> Excellent
                </label>
              </div>
              <div class="radio">
                <label>
                  <input type="radio" name="health" id="healthverygood" value="healthverygood"> Very good
                </label>
              </div>
              <div class="radio">
                <label>
                  <input type="radio" name="health" id="healthgood" value="healthgood" checked> Good
                </label>
              </div>
              <div class="radio">
                <label>
                  <input type="radio" name="health" id="healthfair" value="healthfair"> Fair
                </label>
              </div>
              <div class="radio">
                <label>
                  <input type="radio" name="health" id="healthpoor" value="healthpoor"> Poor
                </label>
              </div>
            </div> 
            </div>

            <hr>
            <div class="form-group">
                <div class="col-sm-3">
                  <label>Optional details about you</label>
                </div>
                <div class="col-sm-3">
                  <p>My weight is: <input type="number" class="form-control" placeholder="Text input"> pounds.</p>
                </div>
                <div class="col-sm-3">
                  <p>My height is: <input type="number" class="form-control" placeholder="Text input"> feet and <input type="number" class="form-control" placeholder="Text input"> inches tall.</p>
                </div>
                <div class="col-sm-3">
                  <p>My gender is:</p>
                  <div class="radio-inline">
                    <label>
                      <input type="radio" name="gender" id="female" value="genderfemale" checked> Female
                    </label>
                  </div>
                  <div class="radio-inline">
                    <label>
                      <input type="radio" name="gender" id="male" value="gendermale"> Male
                    </label>
                  </div>
                  <div class="radio-inline">
                    <label>
                      <input type="radio" name="gender" id="other" value="genderother"> Other 
                    </label>
                  </div><input type="text" class="form-control" placeholder="gender">
                </div>
            </div>
            <hr>
            <div class="form-group">
                <div class="col-sm-3">
                  <label>INCLUDING Walk/Ride Day, how many days in the last week did you commute TO work via:</label>
                </div>

                <div class="col-sm-9">

                <div class="col-sm-9">
                  <div class="col-sm-3"><input type="number" name="cdays" class="form-control" placeholder="0"></div>
                  <div><p>Driving alone</p></div>
                </div>
                
                <div class="col-sm-9">
                  <div class="col-sm-3"><input type="number" name="caltdays" class="form-control" placeholder="0"></div>
                  <div><p>Driving alone, alternative vehicle (including taxi, hybrid, car shares)</p></div>
                </div>
                
                <div class="col-sm-9">
                  <div class="col-sm-3"><input type="number" name="cpdays" class="form-control" placeholder="0"></div>
                  <div><p>Carpool</p></div>
                </div>
                
                <div class="col-sm-9">
                  <div class="col-sm-3"><input type="number" name="tdays" class="form-control" placeholder="0"> </div>
                  <div><p>Transit</p></div>
                </div>
                
                <div class="col-sm-9">
                  <div class="col-sm-3"><input type="number" name="bdays" class="form-control" placeholder="0"> </div>
                  <div><p>Bike</p></div>
                </div>
                
                <div class="col-sm-9">
                  <div class="col-sm-3"><input type="number" name="rdays" class="form-control" placeholder="0"> </div>
                  <div><p>Jog/Run</p></div>
                </div>
                
                <div class="col-sm-9">
                  <div class="col-sm-3"><input type="number" name="wdays" class="form-control" placeholder="0"> </div>
                  <div><p>Walk</p></div>
                </div>
                
                <div class="col-sm-9">  
                  <div class="col-sm-3"><input type="number" name="odays" class="form-control" placeholder="0"> </div>
                  <div><p>Other (roller blade, scooter, kayak, etc.)</p></div>
                </div>
                
                <div class="col-sm-9">
                  <div class="col-sm-3"><input type="number" name="tcdays" class="form-control" placeholder="0"></div>
                  <div><p>Telecommute</p></div>
                </div>

              </div>
            </div>
            <hr>
            <div class="form-group">
              <div class="col-sm-3">
                <label>In the last week, INCLUDING Walk/Ride Day, did you always commute AWAY FROM work in the same way?</label>
              </div>
              <div class="col-sm-9">
                  <div class="radio-inline">
                    <label>
                      <input type="radio" class="lastweek" name="lastweek" id="lastweekYes" value="lastweekAwayWRYes" checked> Yes
                    </label>
                  </div>
                  <div class="radio-inline">
                    <label>
                      <input type="radio" class="lastweek" name="lastweek" id="lastweekNo" value="lastweekAwayWRNo"> No
                    </label>
                  </div>
              </div>
            </div>

            <div id="lastweekaway" class="form-group">
                <div class="col-sm-3">
                  <label>INCLUDING Walk/Ride Day, how many days in the last week did you commute AWAY FROM work via:</label>
                </div>

                <div class="col-sm-9">

                <div class="col-sm-9">
                  <div class="col-sm-3"><input type="number" name="cdaysaway" class="form-control" placeholder="0"></div>
                  <div><p>Driving alone</p></div>
                </div>
                
                <div class="col-sm-9">
                  <div class="col-sm-3"><input type="number" name="caltdaysaway" class="form-control" placeholder="0"></div>
                  <div><p>Driving alone, alternative vehicle (including taxi, hybrid, car shares)</p></div>
                </div>
                
                <div class="col-sm-9">
                  <div class="col-sm-3"><input type="number" name="cpdaysaway" class="form-control" placeholder="0"></div>
                  <div><p>Carpool</p></div>
                </div>
                
                <div class="col-sm-9">
                  <div class="col-sm-3"><input type="number" name="tdaysaway" class="form-control" placeholder="0"> </div>
                  <div><p>Transit</p></div>
                </div>
                
                <div class="col-sm-9">
                  <div class="col-sm-3"><input type="number" name="bdaysaway" class="form-control" placeholder="0"> </div>
                  <div><p>Bike</p></div>
                </div>
                
                <div class="col-sm-9">
                  <div class="col-sm-3"><input type="number" name="rdaysaway" class="form-control" placeholder="0"> </div>
                  <div><p>Jog/Run</p></div>
                </div>
                
                <div class="col-sm-9">
                  <div class="col-sm-3"><input type="number" name="wdaysaway" class="form-control" placeholder="0"> </div>
                  <div><p>Walk</p></div>
                </div>
                
                <div class="col-sm-9">  
                  <div class="col-sm-3"><input type="number" name="odaysaway" class="form-control" placeholder="0"> </div>
                  <div><p>Other (roller blade, scooter, kayak, etc.)</p></div>
                </div>
                
                <div class="col-sm-9">
                  <div class="col-sm-3"><input type="number" name="tcdaysaway" class="form-control" placeholder="0"></div>
                  <div><p>Telecommute</p></div>
                </div>

              </div>
            </div>
            <hr>
            <div class="form-group">
              
              <div class="col-sm-12"><strong>In the last 7 days, did you make any changes to your normal transportation routine OUTSIDE OF your work commute? If yes, what changes?</strong>
                <textarea class="form-control" rows="3" name="outsidechanges" placeholder="e.g. biked more, transit more, walked more etc. to shopping, visiting friends/family, picking up kids, etc."></textarea>
              </div>
            </div>
            <hr>
            <div class="form-group">
              <div class="col-sm-12"><strong>How was Walk/Ride Day affected you? Has it affected your transportation habits? Your health? Your thinking about your commute? Your thinking about environmental, health, or community issues? Any additional notes or thoughts?</strong>
                <textarea class="form-control" rows="3" name="affectedyou"></textarea>
              </div>
            </div> 

            <hr>
            <div class="form-group">
              <div class="col-sm-12">
            <label class="checkbox">
            <input type="checkbox" value="contact"> I am willing to be contacted by the Green Streets Initiative to give feedback about Walk/Ride Day.
            </label>
            <label class="checkbox">
            <input type="checkbox" name="volunteer"> I would like to volunteer to help support Green Streets' efforts.
            </label>
            </div>
            </div>                     
            </fieldset> <!-- end extra questions -->

            <!-- submit -->
            <div class="form-actions">
            
            <p id="optional" class="lead">We invite you to answer a few optional questions every month about your transportation practices and lifestyle. These questions take approximately <strong>2 minutes</strong> to complete. Your answers will provide valuable detail about how people's commutes change over time, and will be used to improve Walk/Ride Days. Thank you very much for your time.</p>
                <button id="button_submit_optional" type="submit" class="btn btn-large btn-primary">Answer optional questions</button>
                <button id="button_submit" type="submit" class="btn btn-large btn-success">Check-in my commute and exit</button>
            </div>
             
            <!-- error messages -->
            <div class="form-group">
            <div class="col-sm-12">
            <div id="submit-error" class="bg-danger" style="display: none;">
                <a class="close" href="http://localhost:8000/commuterform/#">×</a>
                <h4 class="text-danger"></h4>
                <p></p>
            </div>
            </div>
            </div>   
                        

            </form>

</section>

{% endblock %}
